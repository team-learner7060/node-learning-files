<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="/node_modules/bootstrap/dist/css/bootstrap.min.css"
    />
    <title>Login</title>
  </head>
  <body>
    <div class="container border bg-light mt-sm-5">
      <div class="jumbotron bg-light">
        <h1 class="text-center">Login</h1>
      </div>
      <div class="container-fluid">
        <form action="post" id="form">
          <div class="col-sm-12 m-2">
            <div class="input-group">
              <div class="input-group-prepend">
                <div class="input-group-text">Username</div>
              </div>
              <input
                type="text"
                class="form-control"
                name="username"
                id="username"
                placeholder="johndoe123"
              />
            </div>
          </div>
          <div class="col-sm-12 m-2">
            <div class="input-group">
              <div class="input-group-prepend">
                <div class="input-group-text">Email</div>
              </div>
              <input
                type="email"
                class="form-control"
                name="email"
                id="email"
                placeholder="abc@domain.com"
              />
            </div>
          </div>
          <div class="col-sm-12 m-2">
            <div class="input-group">
              <div class="input-group-prepend">
                <div class="input-group-text">Password</div>
              </div>
              <input
                type="text"
                class="form-control"
                name="password"
                id="password"
                placeholder="************"
              />
            </div>
          </div>
          <div class="col-auto m-2">
            <input
              type="button"
              value="submit"
              class="btn btn-primary"
              id="submit"
            />
          </div>
        </form>
      </div>
      <div id="alerts"></div>
    </div>
  </body>
  <script>
    let username = document.querySelector("#username");
    let password = document.querySelector("#password");
    let email = document.querySelector("#email");
    let submitBtn = document.querySelector("#submit");
    let form = document.querySelector("#form");
    let alerts = document.querySelector("#alerts");
    submitBtn.onclick = () => {
      clearAlerts();
      verifyUsername();
      return false;
    };
    let verifyUsername = () => {
      let text = username.value;
      let warning =
        "username can only contain alphabets numbers and underscore";
      for (let i = 0; i < text.length; i++) {
        let charCode = text.charCodeAt(i);
        // console.log(charCode);
        if (text[i] == "_") continue;
        else if (charCode >= 65 && charCode <= 90) continue;
        else if (charCode >= 97 && charCode <= 122) continue;
        else {
          getAlert(warning);
          return false;
        }
      }
      return true;
    };
    function getAlert(text) {
      let div = document.createElement("div");
      div.className = "alert alert-danger";
      div.innerHTML = text;
      console.log(div);
      alerts.appendChild(div);
    }
    function clearAlerts() {
      while (alerts.hasChildNodes()) {
        alerts.remove(alerts.lastElementChild);
      }
    }
  </script>
</html>
